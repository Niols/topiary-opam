# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
name = "nickel-lang-core"
version = "0.8.0"
authors = ["The Nickel Team <nickel-lang@protonmail.com>"]
links = "nix"
description = "Programmable configuration files."
homepage = "https://nickel-lang.org"
readme = "README.md"
keywords = [
    "configuration",
    "language",
    "nix",
    "nickel",
]
license = "MIT"
repository = "https://github.com/tweag/nickel"

[lib]
bench = false

[[bench]]
name = "numeric"
harness = false

[[bench]]
name = "functions"
harness = false

[[bench]]
name = "arrays"
harness = false

[[bench]]
name = "serialization"
harness = false

[[bench]]
name = "mantis"
harness = false

[[bench]]
name = "stdlib"
harness = false

[[bench]]
name = "typecheck-nixpkgs-lib"
harness = false

[dependencies.ansi_term]
version = "0.12"
optional = true

[dependencies.clap]
version = "4.3"
features = ["derive"]

[dependencies.codespan]
version = "0.11"
features = ["serialization"]

[dependencies.codespan-reporting]
version = "0.11"
features = ["serialization"]

[dependencies.comrak]
version = "0.17.0"
features = []
optional = true

[dependencies.cxx]
version = "1.0"
optional = true

[dependencies.indexmap]
version = "1.9.3"
features = ["serde"]

[dependencies.indoc]
version = "2"

[dependencies.js-sys]
version = "0.3"
optional = true

[dependencies.lalrpop-util]
version = "0.20.2"

[dependencies.logos]
version = "0.12"

[dependencies.malachite]
version = "0.4"
features = ["enable_serde"]

[dependencies.malachite-q]
version = "0.4"

[dependencies.md-5]
version = "0.10.5"

[dependencies.metrics]
version = "0.21"
optional = true

[dependencies.once_cell]
version = "1.17.1"

[dependencies.pretty]
version = "0.11.3"

[dependencies.regex]
version = "1"

[dependencies.rustyline]
version = "11.0"
optional = true

[dependencies.rustyline-derive]
version = "0.8.0"
optional = true

[dependencies.serde]
version = "1.0.164"
features = ["derive"]

[dependencies.serde-wasm-bindgen]
version = "0.5.0"

[dependencies.serde_json]
version = "1.0.96"

[dependencies.serde_repr]
version = "0.1"
optional = true

[dependencies.serde_yaml]
version = "0.9.19"

[dependencies.sha-1]
version = "0.10.0"

[dependencies.sha2]
version = "0.10.6"

[dependencies.simple-counter]
version = "0.1.0"

[dependencies.strip-ansi-escapes]
version = "0.2.0"

[dependencies.strsim]
version = "0.10.0"

[dependencies.termimad]
version = "0.23.1"
optional = true

[dependencies.toml]
version = "0.7.2"
features = ["parse"]

[dependencies.topiary-core]
version = "0.4.0"
optional = true

[dependencies.topiary-queries]
version = "0.4.1"
features = ["nickel"]
optional = true
default-features = false

[dependencies.tree-sitter-nickel]
version = "0.2.0"
optional = true

[dependencies.typed-arena]
version = "2.0.2"

[dependencies.unicode-segmentation]
version = "1.10.1"

[dependencies.void]
version = "1"

[dependencies.wasm-bindgen]
version = "=0.2.91"
features = ["serde-serialize"]
optional = true

[dev-dependencies.assert_matches]
version = "1.5.0"

[dev-dependencies.criterion]
version = "0.4"

[dev-dependencies.pprof]
version = "0.11.1"
features = [
    "criterion",
    "flamegraph",
]

[dev-dependencies.pretty_assertions]
version = "1.3.0"

[dev-dependencies.similar]
version = "2.2.1"

[dev-dependencies.test-generator]
version = "0.3.1"

[build-dependencies.cxx-build]
version = "1.0"
optional = true

[build-dependencies.lalrpop]
version = "0.20.2"

[build-dependencies.pkg-config]
version = "0.3.27"
optional = true

[features]
default = [
    "markdown",
    "repl",
    "doc",
    "format",
]
doc = ["dep:comrak"]
format = [
    "dep:topiary-core",
    "dep:topiary-queries",
    "dep:tree-sitter-nickel",
]
markdown = ["dep:termimad"]
metrics = ["dep:metrics"]
nix-experimental = [
    "dep:cxx",
    "dep:cxx-build",
    "dep:pkg-config",
]
repl = [
    "dep:rustyline",
    "dep:rustyline-derive",
    "dep:ansi_term",
]
repl-wasm = [
    "dep:wasm-bindgen",
    "dep:js-sys",
    "dep:serde_repr",
]
